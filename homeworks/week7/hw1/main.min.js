/*eslint-disable*/
// 簡寫版
const form = document.querySelector('form');
form.addEventListener('submit', submitAct);

function submitAct(e) {
  e.preventDefault();// 預防跳頁
  let hasError = false;// 預設輸入內容無誤
  const values = {};// 將值取出為物件

  const elements = document.querySelectorAll('.redsup');
  for (element of elements) {
    const inputs = element.querySelector('input:not([type=radio])');
    const radios = element.querySelectorAll('input[type=radio]');
    let isVaild = true;// input 裡有東西為 true
    if (inputs) {
      values[inputs.name] = inputs.value;// values 是物件
      if (!inputs.value) {
        isVaild = false;
      }
    } else if (radios.length) {
      isVaild = [...radios].some(radio => radio.checked);
      if (isVaild) {
        const checkedRadio = element.querySelector('input[type=radio]:checked');
        values[checkedRadio.name] = checkedRadio.value;
      }
    } else {
      continue;
    }
    // 承接 18 行
    if (!isVaild) { // 當 input 為空值 => false，移掉隱藏的 class
      element.classList.remove('hide-error');
      hasError = true;
    } else {
      element.classList.add('hide-error');
    }
  }
  if (!hasError) {
    alert(JSON.stringify(values));
  }
}
